- query: 'semantic_diff, config1: new1, config2: old1, key: Added connections between
    persistent peers'
  rules:
  - src_ns:
    - demo
    src_pods:
    - bank-ui
    dst_ns:
    - demo
    dst_pods:
    - account-command
    connection:
    - Protocol: TCP
      dst_ports:
      - ({1-8079,8081-9089,9091-65535}, )
    - Protocol: UDP
      dst_ports:
      - ({1-8079,8081-65535}, )
    - Protocol: SCTP
- query: 'semantic_diff, config1: new1, config2: old1, key: Removed connections between
    persistent peers'
  rules:
  - src_ns:
    - demo
    src_pods:
    - account-query
    dst_ns:
    - demo
    dst_pods:
    - bank-ui
    connection:
    - Protocol: TCP
      dst_ports:
      - ({1-8079,8081-65535}, )
    - Protocol: UDP
    - Protocol: SCTP

- query: 'semantic_diff, config1: new1a, config2: old1, key: Added connections between
    persistent peers'
  rules:
  - src_ns:
    - demo
    src_pods:
    - account-query
    dst_ns:
    - demo
    dst_pods:
    - bank-ui
    connection:
    - Protocol: TCP
      dst_ports:
      - (8080, )
  - src_ns:
    - demo
    src_pods:
    - bank-ui
    dst_ns:
    - demo
    dst_pods:
    - account-command
    connection:
    - All connections
- query: 'semantic_diff, config1: new1a, config2: old1, key: Removed connections between
    persistent peers'
  rules:
  - src_ns:
    - demo
    src_pods:
    - account-query
    dst_ns:
    - demo
    dst_pods:
    - bank-ui
    connection:
    - Protocol: UDP
      dst_ports:
      - (8080, )

- query: 'semantic_diff, config1: new2, config2: old2, key: Added connections between
    persistent peers'
  rules:
  - src_ns:
    - demo
    src_pods:
    - bank-ui
    dst_ns:
    - demo
    dst_pods:
    - account-command
    connection:
    - Protocol: TCP
      dst_ports:
      - (8080, )
    - Protocol: UDP
      dst_ports:
      - (9090, )
    - Protocol: SCTP
      dst_ports:
      - (7070, )
- query: 'semantic_diff, config1: new2, config2: old2, key: Removed connections between
    persistent peers'
  rules:
  - src_ns:
    - demo
    src_pods:
    - bank-ui
    dst_ns:
    - demo
    dst_pods:
    - account-command
    connection:
    - Protocol: TCP
      dst_ports:
      - (8082, )
    - Protocol: UDP
      dst_ports:
      - (9091, )

