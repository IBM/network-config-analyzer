no_policy and policy are semantically equivalent.

config_a and config_b are not semantically equivalent.
Lost connections between removed peers:
Removed connections (based on topology from config: config_a) :
src_ns: [default] src_pods: [app in (app-3)] dst_ns: [default] dst_pods: [app in (app-4)] conn: All connections
src_ns: [default] src_pods: [app in (app-4)] dst_ns: [default] dst_pods: [app in (app-3)] conn: All connections

Lost connections between removed peers and ipBlocks:
Removed connections (based on topology from config: config_a) :
src ip block: 0.0.0.0/0 dst_ns: [default] dst_pods: [app in (app-3,app-4)] conn: All connections
src ip block: ::/0 dst_ns: [default] dst_pods: [app in (app-3,app-4)] conn: All connections
src_ns: [default] src_pods: [app in (app-3,app-4)] dst ip block: 0.0.0.0/0 conn: All connections
src_ns: [default] src_pods: [app in (app-3,app-4)] dst ip block: ::/0 conn: All connections

Lost connections between removed peers and persistent peers:
Removed connections (based on topology from config: config_a) :
src_ns: [default] src_pods: [app in (app-3,app-4)] dst_ns: [default] dst_pods: [app in (app-0,app-2)] conn: All connections
src_ns: [default] src_pods: [app not in (app-3,app-4)] dst_ns: [default] dst_pods: [app in (app-3,app-4)] conn: All connections

Changed connections between persistent peers:
Added connections (based on topology from config: config_b) :
src_ns: [default] src_pods: [app in (app-0)] dst_ns: [default] dst_pods: [app in (app-1)] conn: All connections

Removed connections (based on topology from config: config_a) :
src_ns: [default] src_pods: [app in (app-0)] dst_ns: [default] dst_pods: [app in (app-2)] conn: All connections

Changed connections between persistent peers and ipBlocks:
Added connections (based on topology from config: config_b) :
src ip block: 0.0.0.0/0 dst_ns: [default] dst_pods: [app in (app-1)] conn: All connections
src ip block: ::/0 dst_ns: [default] dst_pods: [app in (app-1)] conn: All connections

Removed connections (based on topology from config: config_a) :
src ip block: 0.0.0.0/0 dst_ns: [default] dst_pods: [app in (app-2)] conn: All connections
src ip block: ::/0 dst_ns: [default] dst_pods: [app in (app-2)] conn: All connections

New connections between persistent peers and added peers:
Added connections (based on topology from config: config_b) :
src_ns: [default] src_pods: [app in (app-5,app-6)] dst_ns: [default] dst_pods: [app in (app-0,app-1)] conn: All connections
src_ns: [default] src_pods: [app not in (app-5,app-6)] dst_ns: [default] dst_pods: [app in (app-5,app-6)] conn: All connections

New connections between added peers:
Added connections (based on topology from config: config_b) :
src_ns: [default] src_pods: [app in (app-5)] dst_ns: [default] dst_pods: [app in (app-6)] conn: All connections
src_ns: [default] src_pods: [app in (app-6)] dst_ns: [default] dst_pods: [app in (app-5)] conn: All connections

New connections between added peers and ipBlocks:
Added connections (based on topology from config: config_b) :
src ip block: 0.0.0.0/0 dst_ns: [default] dst_pods: [app in (app-5,app-6)] conn: All connections
src ip block: ::/0 dst_ns: [default] dst_pods: [app in (app-5,app-6)] conn: All connections
src_ns: [default] src_pods: [app in (app-5,app-6)] dst ip block: 0.0.0.0/0 conn: All connections
src_ns: [default] src_pods: [app in (app-5,app-6)] dst ip block: ::/0 conn: All connections


- query: 'semantic_diff, config1: config_b, config2: config_a, key: Lost connections
    between removed peers'
  rules:
  - src_ns:
    - default
    src_pods:
    - app in (app-5)
    dst_ns:
    - default
    dst_pods:
    - app in (app-6)
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app in (app-6)
    dst_ns:
    - default
    dst_pods:
    - app in (app-5)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_b, config2: config_a, key: Lost connections
    between removed peers and ipBlocks'
  rules:
  - src_ip_block:
    - 0.0.0.0/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-5,app-6)
    connection:
    - All connections
  - src_ip_block:
    - ::/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-5,app-6)
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app in (app-5,app-6)
    dst_ip_block:
    - 0.0.0.0/0
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app in (app-5,app-6)
    dst_ip_block:
    - ::/0
    connection:
    - All connections
- query: 'semantic_diff, config1: config_b, config2: config_a, key: Lost connections
    between removed peers and persistent peers'
  rules:
  - src_ns:
    - default
    src_pods:
    - app in (app-5,app-6)
    dst_ns:
    - default
    dst_pods:
    - app in (app-0,app-1)
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app not in (app-5,app-6)
    dst_ns:
    - default
    dst_pods:
    - app in (app-5,app-6)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_b, config2: config_a, key: Added connections
    between persistent peers'
  rules:
  - src_ns:
    - default
    src_pods:
    - app in (app-0)
    dst_ns:
    - default
    dst_pods:
    - app in (app-2)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_b, config2: config_a, key: Removed connections
    between persistent peers'
  rules:
  - src_ns:
    - default
    src_pods:
    - app in (app-0)
    dst_ns:
    - default
    dst_pods:
    - app in (app-1)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_b, config2: config_a, key: Added connections
    between persistent peers and ipBlocks'
  rules:
  - src_ip_block:
    - 0.0.0.0/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-2)
    connection:
    - All connections
  - src_ip_block:
    - ::/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-2)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_b, config2: config_a, key: Removed connections
    between persistent peers and ipBlocks'
  rules:
  - src_ip_block:
    - 0.0.0.0/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-1)
    connection:
    - All connections
  - src_ip_block:
    - ::/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-1)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_b, config2: config_a, key: New connections
    between persistent peers and added peers'
  rules:
  - src_ns:
    - default
    src_pods:
    - app in (app-3,app-4)
    dst_ns:
    - default
    dst_pods:
    - app in (app-0,app-2)
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app not in (app-3,app-4)
    dst_ns:
    - default
    dst_pods:
    - app in (app-3,app-4)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_b, config2: config_a, key: New connections
    between added peers'
  rules:
  - src_ns:
    - default
    src_pods:
    - app in (app-3)
    dst_ns:
    - default
    dst_pods:
    - app in (app-4)
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app in (app-4)
    dst_ns:
    - default
    dst_pods:
    - app in (app-3)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_b, config2: config_a, key: New connections
    between added peers and ipBlocks'
  rules:
  - src_ip_block:
    - 0.0.0.0/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-3,app-4)
    connection:
    - All connections
  - src_ip_block:
    - ::/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-3,app-4)
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app in (app-3,app-4)
    dst_ip_block:
    - 0.0.0.0/0
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app in (app-3,app-4)
    dst_ip_block:
    - ::/0
    connection:
    - All connections

"query","src_ns","src_pods","dst_ns","dst_pods","connection",
"semantic_diff, config1: old1, config2: config_a, key: Lost connections between removed peers","","","","","",
"","[default,kube-system,vendor-system]","[*]","[default,kube-system,vendor-system]","[*]","All connections",
"semantic_diff, config1: old1, config2: config_a, key: Lost connections between removed peers and ipBlocks","","","","","",
"","","ip block: 0.0.0.0/0","[default,kube-system,vendor-system]","[*]","All connections",
"","","ip block: ::/0","[default,kube-system,vendor-system]","[*]","All connections",
"","[default,kube-system,vendor-system]","[*]","","ip block: 0.0.0.0/0","All connections",
"","[default,kube-system,vendor-system]","[*]","","ip block: ::/0","All connections",
"semantic_diff, config1: old1, config2: config_a, key: New connections between added peers","","","","","",
"","[default]","[*]","[default]","[app not in (app-1)]","All connections",
"","[default]","[app in (app-1,app-2)]","[default]","[*]","All connections",
"semantic_diff, config1: old1, config2: config_a, key: New connections between added peers and ipBlocks","","","","","",
"","","ip block: 0.0.0.0/0","[default]","[app not in (app-1)]","All connections",
"","","ip block: ::/0","[default]","[app not in (app-1)]","All connections",
"","[default]","[*]","","ip block: 0.0.0.0/0","All connections",
"","[default]","[*]","","ip block: ::/0","All connections",

|query|src_ns|src_pods|dst_ns|dst_pods|connection|
|---|---|---|---|---|---|
|semantic_diff, config1: np1, config2: np2, key: Added connections between persistent peers and ipBlocks||||||
|||ip block: 0.0.0.0/5|[kube-system]|[has(tier)]|TCP 53,|
|||ip block: 11.0.0.0/8|[kube-system]|[has(tier)]|TCP 53,|
|||ip block: 172.22.0.0/15|[kube-system]|[has(tier)]|TCP 53,|
|||ip block: 172.31.0.0/16|[kube-system]|[has(tier)]|TCP 53,|
|semantic_diff, config1: np1, config2: np2, key: Removed connections between persistent peers and ipBlocks||||||
|||ip block: 0.0.0.0/5|[kube-system]|[has(tier)]|UDP 53,|
|||ip block: 11.0.0.0/8|[kube-system]|[has(tier)]|UDP 53,|
|||ip block: 172.22.0.0/15|[kube-system]|[has(tier)]|UDP 53,|
|||ip block: 172.31.0.0/16|[kube-system]|[has(tier)]|UDP 53,|

config_a_with_ipBlock and config_b_with_ipBlock are not semantically equivalent.
Lost connections between removed peers:
Removed connections (based on topology from config: config_a_with_ipBlock) :
src_ns: [default] src_pods: [app in (app-3)] dst_ns: [default] dst_pods: [app in (app-4)] conn: All connections
src_ns: [default] src_pods: [app in (app-4)] dst_ns: [default] dst_pods: [app in (app-3)] conn: All connections

Lost connections between removed peers and ipBlocks:
Removed connections (based on topology from config: config_a_with_ipBlock) :
src ip block: 0.0.0.0/0 dst_ns: [default] dst_pods: [app in (app-3,app-4)] conn: All connections
src ip block: ::/0 dst_ns: [default] dst_pods: [app in (app-3,app-4)] conn: All connections
src_ns: [default] src_pods: [app in (app-3,app-4)] dst ip block: 0.0.0.0/0 conn: All connections
src_ns: [default] src_pods: [app in (app-3,app-4)] dst ip block: ::/0 conn: All connections

Lost connections between removed peers and persistent peers:
Removed connections (based on topology from config: config_a_with_ipBlock) :
src_ns: [default] src_pods: [app in (app-3,app-4)] dst_ns: [default] dst_pods: [app in (app-0,app-2)] conn: All connections
src_ns: [default] src_pods: [app not in (app-3,app-4)] dst_ns: [default] dst_pods: [app in (app-3,app-4)] conn: All connections

Changed connections between persistent peers:
Added connections (based on topology from config: config_b_with_ipBlock) :
src_ns: [default] src_pods: [app in (app-0)] dst_ns: [default] dst_pods: [app in (app-1)] conn: All connections

Removed connections (based on topology from config: config_a_with_ipBlock) :
src_ns: [default] src_pods: [app in (app-0)] dst_ns: [default] dst_pods: [app in (app-2)] conn: All connections

Changed connections between persistent peers and ipBlocks:
Added connections (based on topology from config: config_b_with_ipBlock) :
src ip block: 0.0.0.0/5 dst_ns: [default] dst_pods: [app in (app-1)] conn: All connections
src ip block: 10.10.0.0/16 dst_ns: [default] dst_pods: [app in (app-1)] conn: All connections
src ip block: 11.0.0.0/8 dst_ns: [default] dst_pods: [app in (app-1)] conn: All connections
src ip block: ::/0 dst_ns: [default] dst_pods: [app in (app-1)] conn: All connections

Removed connections (based on topology from config: config_a_with_ipBlock) :
src ip block: 0.0.0.0/5 dst_ns: [default] dst_pods: [app in (app-2)] conn: All connections
src ip block: 10.0.0.0/13 dst_ns: [default] dst_pods: [app in (app-2)] conn: All but UDP 53,
src ip block: 10.11.0.0/16 dst_ns: [default] dst_pods: [app in (app-2)] conn: All connections
src ip block: 10.12.0.0/14 dst_ns: [default] dst_pods: [app in (app-2)] conn: All but UDP 53,
src ip block: 11.0.0.0/8 dst_ns: [default] dst_pods: [app in (app-2)] conn: All connections
src ip block: ::/0 dst_ns: [default] dst_pods: [app in (app-2)] conn: All connections

New connections between persistent peers and added peers:
Added connections (based on topology from config: config_b_with_ipBlock) :
src_ns: [default] src_pods: [app in (app-5,app-6)] dst_ns: [default] dst_pods: [app in (app-0,app-1)] conn: All connections
src_ns: [default] src_pods: [app not in (app-5,app-6)] dst_ns: [default] dst_pods: [app in (app-5,app-6)] conn: All connections

New connections between added peers:
Added connections (based on topology from config: config_b_with_ipBlock) :
src_ns: [default] src_pods: [app in (app-5)] dst_ns: [default] dst_pods: [app in (app-6)] conn: All connections
src_ns: [default] src_pods: [app in (app-6)] dst_ns: [default] dst_pods: [app in (app-5)] conn: All connections

New connections between added peers and ipBlocks:
Added connections (based on topology from config: config_b_with_ipBlock) :
src ip block: 0.0.0.0/0 dst_ns: [default] dst_pods: [app in (app-5,app-6)] conn: All connections
src ip block: ::/0 dst_ns: [default] dst_pods: [app in (app-5,app-6)] conn: All connections
src_ns: [default] src_pods: [app in (app-5,app-6)] dst ip block: 0.0.0.0/0 conn: All connections
src_ns: [default] src_pods: [app in (app-5,app-6)] dst ip block: ::/0 conn: All connections


- query: 'semantic_diff, config1: config_a_with_ipBlock, config2: config_b_with_ipBlock,
    key: Lost connections between removed peers'
  rules:
  - src_ns:
    - default
    src_pods:
    - app in (app-3)
    dst_ns:
    - default
    dst_pods:
    - app in (app-4)
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app in (app-4)
    dst_ns:
    - default
    dst_pods:
    - app in (app-3)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_a_with_ipBlock, config2: config_b_with_ipBlock,
    key: Lost connections between removed peers and ipBlocks'
  rules:
  - src_ip_block:
    - 0.0.0.0/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-3,app-4)
    connection:
    - All connections
  - src_ip_block:
    - ::/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-3,app-4)
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app in (app-3,app-4)
    dst_ip_block:
    - 0.0.0.0/0
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app in (app-3,app-4)
    dst_ip_block:
    - ::/0
    connection:
    - All connections
- query: 'semantic_diff, config1: config_a_with_ipBlock, config2: config_b_with_ipBlock,
    key: Lost connections between removed peers and persistent peers'
  rules:
  - src_ns:
    - default
    src_pods:
    - app in (app-3,app-4)
    dst_ns:
    - default
    dst_pods:
    - app in (app-0,app-2)
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app not in (app-3,app-4)
    dst_ns:
    - default
    dst_pods:
    - app in (app-3,app-4)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_a_with_ipBlock, config2: config_b_with_ipBlock,
    key: Added connections between persistent peers'
  rules:
  - src_ns:
    - default
    src_pods:
    - app in (app-0)
    dst_ns:
    - default
    dst_pods:
    - app in (app-1)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_a_with_ipBlock, config2: config_b_with_ipBlock,
    key: Removed connections between persistent peers'
  rules:
  - src_ns:
    - default
    src_pods:
    - app in (app-0)
    dst_ns:
    - default
    dst_pods:
    - app in (app-2)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_a_with_ipBlock, config2: config_b_with_ipBlock,
    key: Added connections between persistent peers and ipBlocks'
  rules:
  - src_ip_block:
    - 0.0.0.0/5
    dst_ns:
    - default
    dst_pods:
    - app in (app-1)
    connection:
    - All connections
  - src_ip_block:
    - 10.10.0.0/16
    dst_ns:
    - default
    dst_pods:
    - app in (app-1)
    connection:
    - All connections
  - src_ip_block:
    - 11.0.0.0/8
    dst_ns:
    - default
    dst_pods:
    - app in (app-1)
    connection:
    - All connections
  - src_ip_block:
    - ::/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-1)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_a_with_ipBlock, config2: config_b_with_ipBlock,
    key: Removed connections between persistent peers and ipBlocks'
  rules:
  - src_ip_block:
    - 10.0.0.0/13
    dst_ns:
    - default
    dst_pods:
    - app in (app-2)
    connection:
    - Protocol: TCP
    - Protocol: UDP
      Ports:
      - 1-52
      - 54-65535
    - Protocol: SCTP
  - src_ip_block:
    - 10.12.0.0/14
    dst_ns:
    - default
    dst_pods:
    - app in (app-2)
    connection:
    - Protocol: TCP
    - Protocol: UDP
      Ports:
      - 1-52
      - 54-65535
    - Protocol: SCTP
  - src_ip_block:
    - 0.0.0.0/5
    dst_ns:
    - default
    dst_pods:
    - app in (app-2)
    connection:
    - All connections
  - src_ip_block:
    - 10.11.0.0/16
    dst_ns:
    - default
    dst_pods:
    - app in (app-2)
    connection:
    - All connections
  - src_ip_block:
    - 11.0.0.0/8
    dst_ns:
    - default
    dst_pods:
    - app in (app-2)
    connection:
    - All connections
  - src_ip_block:
    - ::/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-2)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_a_with_ipBlock, config2: config_b_with_ipBlock,
    key: New connections between persistent peers and added peers'
  rules:
  - src_ns:
    - default
    src_pods:
    - app in (app-5,app-6)
    dst_ns:
    - default
    dst_pods:
    - app in (app-0,app-1)
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app not in (app-5,app-6)
    dst_ns:
    - default
    dst_pods:
    - app in (app-5,app-6)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_a_with_ipBlock, config2: config_b_with_ipBlock,
    key: New connections between added peers'
  rules:
  - src_ns:
    - default
    src_pods:
    - app in (app-5)
    dst_ns:
    - default
    dst_pods:
    - app in (app-6)
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app in (app-6)
    dst_ns:
    - default
    dst_pods:
    - app in (app-5)
    connection:
    - All connections
- query: 'semantic_diff, config1: config_a_with_ipBlock, config2: config_b_with_ipBlock,
    key: New connections between added peers and ipBlocks'
  rules:
  - src_ip_block:
    - 0.0.0.0/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-5,app-6)
    connection:
    - All connections
  - src_ip_block:
    - ::/0
    dst_ns:
    - default
    dst_pods:
    - app in (app-5,app-6)
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app in (app-5,app-6)
    dst_ip_block:
    - 0.0.0.0/0
    connection:
    - All connections
  - src_ns:
    - default
    src_pods:
    - app in (app-5,app-6)
    dst_ip_block:
    - ::/0
    connection:
    - All connections

