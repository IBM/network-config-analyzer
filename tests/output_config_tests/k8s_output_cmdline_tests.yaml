- name: basic_connectivity
  args: >
    --connectivity ../k8s_testcases/example_policies/testcase8/testcase8-networkpolicy1.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    --expected_output expected_output_files/basic_connectivity_txt_query_output.txt
  expected: 0

- name: basic_connectivity_txt
  args: >
    --connectivity ../k8s_testcases/example_policies/testcase8/testcase8-networkpolicy1.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    -o txt
    --expected_output expected_output_files/basic_connectivity_txt_query_output.txt
  expected: 0


- name: basic_connectivity_yaml
  args: >
    --connectivity ../k8s_testcases/example_policies/testcase8/testcase8-networkpolicy1.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    -o yaml
    --expected_output expected_output_files/basic_connectivity_yaml_query_output.txt
  expected: 0

- name: basic_connectivity_csv
  args: >
    --connectivity ../k8s_testcases/example_policies/testcase8/testcase8-networkpolicy1.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    -o csv
    --expected_output expected_output_files/basic_connectivity_csv_query_output.txt
  expected: 0

- name: basic_connectivity_md
  args: >
    --connectivity ../k8s_testcases/example_policies/testcase8/testcase8-networkpolicy1.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    -o md
    --expected_output expected_output_files/basic_connectivity_md_query_output.txt
  expected: 0

- name: basic_connectivity_dot
  args: >
    --connectivity ../k8s_testcases/example_policies/testcase8/testcase8-networkpolicy1.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    -o dot
    --expected_output expected_output_files/basic_connectivity_dot_query_output.txt
  expected: 0

- name: basic_connectivity_other
  args: >
    --connectivity ../k8s_testcases/example_policies/testcase8/testcase8-networkpolicy1.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    -o other
  expected: 0

- name: basic_connectivity_file_arg
  args: >
    --connectivity ../k8s_testcases/example_policies/testcase8/testcase8-networkpolicy1.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    -f basic_connectivity_file_arg.txt
    --expected_output expected_output_files/basic_connectivity_file_arg.txt
  expected: 0

- name: basic_connectivity_file_arg_yaml
  args: >
    --connectivity ../k8s_testcases/example_policies/testcase8/testcase8-networkpolicy1.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    -f basic_connectivity_file_arg.yaml
    -o yaml
    --expected_output expected_output_files/basic_connectivity_file_arg.yaml
  expected: 0


- name: basic_semantic_diff
  args: >
    --semantic_diff ../k8s_testcases/example_policies/testcase7/testcase7-networkpolicy1.yaml
    --base_np_list ../k8s_testcases/example_policies/testcase7/testcase7-networkpolicy2.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    --expected_output expected_output_files/basic_semantic_diff_query_output.txt
  expected: 1

- name: different_topologies_semantic_diff
  args: >
    --semantic_diff ../k8s_testcases/example_policies/tests-different-topologies/policy_b.yaml
    --ns_list ../different_topologies/ns_list_b.json
    --pod_list ../different_topologies/pods_list_b.json
    --base_np_list ../k8s_testcases/example_policies/tests-different-topologies/policy_a.yaml
    --base_ns_list ../different_topologies/ns_list_a.json
    --base_pod_list ../different_topologies/pods_list_a.json
    --expected_output expected_output_files/different_topologies_semantic_diff_query_output.txt
  expected: 1

- name: basic_semantic_diff_yaml
  args: >
    --semantic_diff ../k8s_testcases/example_policies/testcase7/testcase7-networkpolicy1.yaml
    --base_np_list ../k8s_testcases/example_policies/testcase7/testcase7-networkpolicy2.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    -o yaml
    --expected_output expected_output_files/basic_semantic_diff_yaml_query_output.txt
  expected: 1

- name: basic_semantic_diff_csv
  args: >
    --semantic_diff ../k8s_testcases/example_policies/testcase7/testcase7-networkpolicy1.yaml
    --base_np_list ../k8s_testcases/example_policies/testcase7/testcase7-networkpolicy2.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    -o csv
    --expected_output expected_output_files/basic_semantic_diff_csv_query_output.txt
  expected: 1

- name: basic_semantic_diff_md
  args: >
    --semantic_diff ../k8s_testcases/example_policies/testcase7/testcase7-networkpolicy1.yaml
    --base_np_list ../k8s_testcases/example_policies/testcase7/testcase7-networkpolicy2.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    -o md
    --expected_output expected_output_files/basic_semantic_diff_md_query_output.txt
  expected: 1

- name: basic_semantic_diff_dot
  args: >
    --semantic_diff ../k8s_testcases/example_policies/testcase7/testcase7-networkpolicy1.yaml
    --base_np_list ../k8s_testcases/example_policies/testcase7/testcase7-networkpolicy2.yaml
    --ns_list ../k8s_testcases/example_podlist/ns_list.json
    --pod_list ../k8s_testcases/example_podlist/pods_list.json
    -o dot
  expected: 1



